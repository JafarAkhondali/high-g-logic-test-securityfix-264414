<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>test1</title>
</head>
<body>
<div id="root">
  <h1>service worker 1</h1>
  <button id="button">Sync Test</button>
</div>
<script>
if (navigator.serviceWorker) {
  navigator.serviceWorker.register('./sw.js')
  navigator.serviceWorker.ready
    .then((registration) => {
      document.getElementById('button').addEventListener('click', () => {
        registration.sync.register('sync-test')
          .then(() => {
            console.log('aync registerd')
          })
          .catch(console.error.bind(console))
      }, false)
    })
    .catch(console.error.bind(console))
}
</script>
</body>
</html>